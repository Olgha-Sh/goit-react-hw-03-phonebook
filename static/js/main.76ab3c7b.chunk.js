(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{21:function(e,n,t){e.exports=t(31)},26:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),u=t.n(c),o=(t(26),t(19)),i=t(7),l=t(10),m=t(15),f=t(35),b=t(1),s=t.n(b),d=t(2),g=t(3);function v(){var e=Object(d.a)(["\n  margin-top: 0.5em;\n"]);return v=function(){return e},e}function h(){var e=Object(d.a)(["\n  display: block;\n  margin-top: 0.5em;\n"]);return h=function(){return e},e}function p(){var e=Object(d.a)([""]);return p=function(){return e},e}function E(){var e=Object(d.a)([""]);return E=function(){return e},e}var O=g.a.form(E()),j=g.a.label(p()),C=g.a.input(h()),y=g.a.button(v()),w=function(e){var n=e.number,t=e.name,a=e.onSubmitHandler,c=e.onInputHandler;return r.a.createElement(O,{onSubmit:a},r.a.createElement(j,{htmlFor:"name"},"Name",r.a.createElement(C,{type:"text",name:"name",value:t,onChange:c,autoFocus:!0})),r.a.createElement(j,{htmlFor:"number"},"Number",r.a.createElement(C,{type:"text",name:"number",value:n,onChange:c})),r.a.createElement(y,{type:"submit",disabled:!t||!n},"Add Contact"))},F=t(5);t(14);F.a.configure();var S={name:"",number:""};w.propTypes={addContact:s.a.func,contacts:s.a.arrayOf(s.a.shape({id:s.a.string,name:s.a.string,number:s.a.string}))};var k=function(e){var n=e.addContact,t=e.contacts,c=Object(a.useState)(S),u=Object(i.a)(c,2),o=u[0],b=u[1],s=o.name,d=o.number;return r.a.createElement(w,{name:s,number:d,onSubmitHandler:function(e){e.preventDefault();var a={name:o.name,number:o.number,id:Object(f.a)()};t.find((function(e){return e.name===a.name}))?function(e){Object(F.a)("\ud83e\udd84 ".concat(e," is already in contacts"))}(a.name):(n(a),b(S))},onInputHandler:function(e){var n=e.target.name,t="";"name"===n&&(t=e.target.value.replace(/[^A-z\u0410-\u044f\u0401\u0451\s]+/gi,"")),"number"===n&&(t=e.target.value.replace(/[^\d\s,+,(,)]+/gi,"")),b(Object(m.a)({},o,Object(l.a)({},n,t)))}})};function x(){var e=Object(d.a)(["\n  display: block;\n  margin: 0;\n  padding: 0;\n  padding-top: 1em;\n"]);return x=function(){return e},e}var N=g.a.ul(x());function I(){var e=Object(d.a)(["\n  height: 2em;\n"]);return I=function(){return e},e}function H(){var e=Object(d.a)(["\n  margin: 0;\n  margin-bottom: 1em;\n  margin-right: 1em;\n  width: 80px;\n"]);return H=function(){return e},e}function J(){var e=Object(d.a)(["\n  margin: 0;\n  margin-bottom: 1em;\n  margin-right: 1em;\n  width: 130px;\n"]);return J=function(){return e},e}function A(){var e=Object(d.a)(["\n  display: flex;\n  font-weight: 500;\n"]);return A=function(){return e},e}var L=g.a.li(A()),z=g.a.span(J()),B=g.a.span(H()),D=g.a.button(I()),M=function(e){var n=e.name,t=e.number,a=e.deleteContact;return r.a.createElement(L,null,r.a.createElement(z,null,n," :"),r.a.createElement(B,null," ",t),r.a.createElement(D,{onClick:a}," delete"))},P=function(e){var n=e.contactsFilter,t=e.deleteContact;return n.length>0&&r.a.createElement(N,null,n.map((function(e){return r.a.createElement(M,Object.assign({key:e.id},e,{deleteContact:function(){return t(e.id)}}))})))};function T(){var e=Object(d.a)(["\n  display: flex;\n"]);return T=function(){return e},e}var q=g.a.input(T()),G=function(e){var n=e.value,t=e.onChangeFilter;return r.a.createElement(q,{type:"text",value:n,onChange:t})},K=function(e){var n=e.contacts,t=e.filter,a=e.addContact,c=e.changeFilter,u=e.deleteContact,o=e.filterName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(k,{addContact:a,contacts:n}),r.a.createElement("h2",null,"Contacts"),n&&n.length>=2&&r.a.createElement(G,{value:t,onChangeFilter:c}),r.a.createElement(P,{contactsFilter:o(n,t),deleteContact:u}))},Q=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(t){throw new Error}},R=function(e){try{var n=localStorage.getItem(e);return n?JSON.parse(n):null}catch(t){throw new Error}};F.a.configure();var U=function(){var e=function(e){return F.a.error("\ud83d\udca9 Contact ".concat(e," is too short!"))},n=Object(a.useState)(null),t=Object(i.a)(n,2),c=t[0],u=t[1],l=Object(a.useState)(""),m=Object(i.a)(l,2),f=m[0],b=m[1];return Object(a.useEffect)((function(){var e=R("contacts");if(!e)return Q("contacts",[]),void u([]);u(e)}),[]),Object(a.useEffect)((function(){Q("contacts",c)}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{contacts:c,addContact:function(n){n.name.length>1&&n.number.length>1?u([].concat(Object(o.a)(c),[n])):n.name.length<=1?e("name"):n.number.length<=1&&e("number")},changeFilter:function(e){var n=e.target.value;b(n)},deleteContact:function(e){u(c.filter((function(n){return n.id!==e})))},filter:f,filterName:function(e,n){return e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[]}}))};var V=function(){return r.a.createElement(U,null)};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.76ab3c7b.chunk.js.map